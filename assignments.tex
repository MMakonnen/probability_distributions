\documentclass[a4paper]{article}
\newcommand{\wk}[1]{\textbf{#1}} 
%\usepackage[all-solutions-at-end]{optional}
\usepackage[check]{optional}


\usepackage{preamble}


\author{Nicky D. van Foreest}
\date{2020:11:15}
\title{Probability distributions: Assignments\\\medskip
\large EBP038A05}
\begin{document}

\maketitle


\section*{General information}
\label{sec:orgb865fed}

Here we just provide the exercises of the assignments.  For information with respect to grading we refer to the  course manual.

\begin{enumerate}
\item For each assigment you have to turn in a pdf document typeset in \LaTeX{}. Include a title, group number, student names and ids, and date.
\item When you have to turn in a graph, provide decent labels and a legend, ensure the axes have labels too.
\item Whenever you have to program or simulate something, include your code. 
\end{enumerate}

\section{Assignment 1}
\label{sec:org9cbca82}

\subsection{Below exam level}
\label{sec:below-exam-level}


\begin{exercise}
Let $X\sim\Exp{4}$. 
\begin{enumerate}
\item Find a simple expression for $\P{1 < X  \leq 4}$ and compute the value.  
\item Use simulation to check this value. Include your code and explain any difficult point (if there is any). 
\item Use numerical integration to compute $\P{1<X\leq 4}$.  In python it looks like this:
\begin{minted}[]{python}
import numpy as np
from scipy.integrate import quad

labda = 3


def integrand(x):
    return np.exp(-labda * x)


I = quad(integrand, 1, 4)
print(I)
\end{minted}
  
\end{enumerate}
\end{exercise}

\begin{exercise}
We throw an unbiased die with six sides; the result of the $i$th throw is $X_i$. 
\begin{enumerate}
\item What is the sample space of the two throws $(X_{1}, X_2)$?
\item What is the joint CDF?
\item What is the joint PMF?
\item  Marginalize out $X_2$ to show that $\P{X_1=5} = 1/6$.
\item Use the fundamental bridge and indicators to compute $\P{X_1>X_2}$.
\item Use the fundamental bridge and indicators to compute $\P{|X_1-X_2| < 1 } = 1/6$.
\item Use the fundamental bridge and indicators to compute $\P{|X_1-X_2|\leq 1 }$.
\item Use simulation to estimate  $\P{|X_1-X_2|\leq 1 }$.
\end{enumerate}
\end{exercise}

\begin{exercise}
We select a random married couple (a man and a woman). His height is $X\sim \Norm{1.8, 0.1}$, her height is $Y\sim \Norm{1.7, 0.08}$ in meters. 
\begin{enumerate}
\item What is the sample space of $(X, Y)$?
\item What is the joint CDF?
\item What is the joint PDF?
\item  Marginalize out $Y$ to show that $X\sim \N{1.8, 0.1}$.
\item Use the fundamental bridge and indicators to write  $\P{X>Y}$ as an integral.
\item Use the fundamental bridge and indicators to write  $\P{|X-Y| < 0.1 }$ as an integral.
\item Use a numerical integrator to compute the probability of the previous part.
\item Use simulation to estimate the probability of the previous part.
\end{enumerate}
\end{exercise}

\begin{exercise}
I select a random guy from the street, his height $X\sim\N{1.8, 0.1}$, and I select a random woman from the street, her height is $Y\sim\N{1.7, 0.08}$.
I claim that since I selected the man and the woman independently, their heights are independent.
Comment on this claim: Is it true, why, if it false, why, and what information do you have to add to the model to make the claim true?
\end{exercise}

\begin{exercise}
Take $X\in\{-2, -1, 1, 2\}$ and $\eta = X^2$. What is the correlation coefficient of $X$ and $\eta$? Comment on your answer. \wk{Is $X$ uniformly distributed on $\{-2, -1, 1, 2\}$? Or should an arbitrary distribution with support $\{-2, -1, 1, 2\}$ be considered?}
\end{exercise}

\begin{exercise}
This is about the simplest model for an insurance company that I can think of.
We start with an initial capital $I_0=2$.
The company receives claims and contributions every period, a week say.
In the $i$th period, we receive a contribution $X_{i}$ uniform on the set $\{1, 2,\ldots,10\}$ and a claim $C_i$ uniform on $\{0, 1, \ldots 8\}$.
\begin{enumerate}
\item What is the meaning of $I_1=I_0+X_1-C_1$?
\item What is the meaning of $I_2=I_1+X_2-C_2$?
\item Provide an interpretation in terms of the inventory of rice, say, at a supermarket for $I_{1}$ and $I_{1}'$.
\item Provide also an interpretation in terms of a degradation and repair process of an item.
  (if you find this difficult, search a bit on the web on reliability theory.)
  Comment on how good you think this model is to analyze such degradation and repair processes.
\item What is the interpretation of $I_1'=\max\{I_0-C_1,0\} + X_1$?
\item What is the interpretation of $I_2'=\max\{I_1'-C_2,0\} + X_2$?
\item What is  $\P{I_1 < 0}$?
\item What is  $\P{I_1' < 0}$?
\item What is  $\P{I_2 < 0}$?
\item What is  $\P{I_2' < 0}$?
\item Use simulation to estimate $\P{I_{10}<10}$.
\item What is the interpretation of $\bar I_{n} = \min{I_{i} : 0\leq i\leq n}$? 
\item  Use simulation to estimate $\P{\bar I_{10} \geq 0}$.
\item Similar,   use simulation to estimate $\P{\bar I_{10}' \geq 0}$.
\item Explain the difference outcomes between the previous two parts. 
\end{enumerate}
\end{exercise}

\begin{exercise}
We have a machine that consists of two components. The machine works as long as not both components have failed. Let $X_i$ be the lifetime of component $i$. 
\begin{enumerate}
\item What is the interpretation of $\min{X_1, X_{2}}$?
\item What is the interpretation of $\max{X_1, X_{2}}$?
\item If $X_1, X_2$ iid $\sim \Exp{10}$ (in hours), what is the expected time until the machine fails? 
\item If $X_1, X_2$ iid $\sim \Exp{10}$ (in hours), what is the probability that the machine is still `up' (i.e., not failed) at time $T=50$? 
\item If $X_1\sim \Exp{10}$, $X_2 \sim \Norm{20, 3}$, use simulation to estimate the expected time until the machine fails.
\item If $X_1\sim \Exp{10}$, $X_2 \sim \Norm{20, 3}$, use simulation to determine the probability that the machine is still `up' (i.e., not failed) at time $T=50$. 
\end{enumerate}
\end{exercise}

\begin{exercise}
Let $X$ be the result of the throw of a coin.
It is given that $\P{X=H} = p = 1-\P{X=T}$.
When $X=H$, we choose a fair die with 4 sides with values $1,2,3,4$, when $X=T$ we choose a fair die with 6 sides with values $1,\ldots,6$.
Let $Y_i$ be the value of the $i$th throw with the die.
\begin{enumerate}
\item What is the PMF of $X$ and $Y_1$?
\item Marginalize  the answer of part a to show that $\P{X=H} = p$. 
\item What is $\P{Y_{1}=1}$?
\item What is $\P{X=1 \given Y_1=1}$?
\item What is $\P{X=1 \given Y_1=1, Y_2=2}$?
\item What is $\P{X=1 \given Y_1=Y_2=\cdots=Y_n = 1}$?
\end{enumerate}
\end{exercise}


\begin{exercise}
Derive the results of BH 7.3.6 without smart tricks. Thus, you have to use the fundamental bridge to show that 
\begin{align*}
\E{M L} &= \E X \E Y = 1, & \E{M} &= 3/2, & \E L &= 1/2, \\
\E{L^{2}} &=  1/4, & \E{M^{2}} &= 2\E{X^{2}} - \E{L^{2}} = 7/2 \\ 
\V{M}&=\E{M^2} - (\E M)^{2}, & \V L = \E{L^2}-(\E L)^2.
\end{align*}
\end{exercise}

\begin{exercise}
Check first BH 7.2.3. If $X, Y$ iid $\sim \Pois{\lambda}$, then prove first that $X+Y\sim \Pois{2\lambda}$, but $X-Y$ is not $\sim\Pois{0}$. But when $X, Y$ iid $\sim \Norm{0, 1}$, then $X-Y\sim\Norm{}0,2}$. Explain this difference between the Poisson and normal distribution. 
\end{exercise}


\begin{exercise} 
Use simulation to estimate the answer of exercise 7.1 of BW.
Here is a way to do it in python.
Port this to R and explain how your code works.
Then compare the value of the simulation to the exact value.
Include the integrals in your answer to show how you found the exact answer.


\begin{minted}[]{python}
import numpy as np

np.random.seed(3)

num = 1000

a = np.random.uniform(size=num)
b = np.random.uniform(size=num)
success = np.abs(a - b) < 0.25
print(success.mean(), success.var())
\end{minted}



If you like, you can include a plot of the region (in time) in which Alice and Bob meet, and put marks on the points of the simulation that were `successful'. 




\end{exercise}



\subsection{Exam level, TBD}
\label{sec:exam-level}

\begin{exercise} %wk
Assume that $X$ has the Cauchy distribution. 
\begin{enumerate}
\item Does $\E{\frac{X}{X^2+1}}$ exist? If so, find its value. 
\item Does $\E{\frac{|X|}{X^2+1}}$ exist? If so, find its value. 
\end{enumerate}
\end{exercise}



\subsection{Above exam level, TBD}
\label{sec:above-exam-level}

\begin{exercise} %wk
Consider the again the chicken-egg story (BH 7.1.9): A chicken lays a random number of eggs $N$ an each egg independently hatches with probability $p$ and fails to hatch with probability $q = 1-p$. Let $X$ be the number of eggs that hatch and let $Y$ be the number of eggs that do not hatch, so $X+Y = N$. 
For $N \sim \Pois{\lambda}$ it is shown in BH 7.1.9 that $X$ and $Y$ are independent. This exercise asks for the converse. Assume that $X$ and $Y$ are independent. Prove that there exists a $\lambda > 0$ such that $N \sim \Pois{\lambda}$.
\end{exercise}



\section{Assignment 2}
\label{sec:assignment-2}



\section{Ideas, completely messy at this moment}
\label{sec:ideas-compl-messy}




\subsection{Python code}
\label{sec:org8074bd4}
Look up on the web what  these words mean. 
\begin{itemize}
\item \texttt{for i in range(3)}
\item \texttt{enumerate}
\item \texttt{numpy}
\item \texttt{import numpy as np}
\item \texttt{np.zeros\_like}
\item \texttt{np.infty}
\item \texttt{np.random.seed}, we  use this to ensure we get the same random samples time and again
\item \texttt{np.random.uniform}, \texttt{np.random.exponential}, and so on.
\end{itemize}


\begin{exercise}
Let $X\sim\Exp{\lambda}$ and $Y \sim N(\mu, \sigma)$, independent of $X$.
So, draw $X$ first and let the outcome be $x$; then draw $Y\sim N(x, \sigma)$.
Take $\lambda=4$, $\mu = 5$, $\sigma=3$.
\begin{enumerate}
\item Make a 3D plot of $F_{X,Y}$.
\item Make a 3D plot of $f_{X,Y}$.
\item Plot $f_{X}$, i.e., plot $\mu e^{-\mu t}$.
  Then use simulation to marginalize out $Y$ from $f_{X,Y}$ to obtain $\hat f_X$; we write $\hat f_X$ because it has been obtained from simulation.
  Plot $\hat f_X$ in the same figure as $f_X$, and compare the result.
\item Use simulation to estimate $f_{X|Y}$. Plot this in the same graph for various values of $X=x$. 
\item Make a 3D plot of $f$
\end{enumerate}
\end{exercise}

\begin{exercise}
Let $X\sim\Exp{\lambda}$ and $Y| X \sim N(X, \sigma)$. So,  draw $X$ first and let the outcome be $x$;  then draw $Y\sim N(x, \sigma)$. Take $\lambda = 5$, $\sigma=3$. 
\begin{enumerate}
\item Use simulation to estimate $\E Y$. 
\item Make a 3D plot of $F_{X,Y}$.
\item Make a 3D plot of $f_{X,Y}$.
\item Plot $f_{X}$, i.e., plot $\lambda e^{-\lambda t}$.
  Then use simulation to marginalize out $Y$ from $f_{X,Y}$ to obtain $\hat f_X$.
  Plot $\hat f_X$ in the same figure as $f_X$, and compare the result.
\item Use simulation to estimate $f_{X|Y}$. Plot this in the same graph for various values of $X=x$. 
\item Make a 3D plot of $f$
\end{enumerate}
\end{exercise}





\subsection{7.32}
\label{sec:orga22aa79}

\begin{enumerate}
\item Solve this problem and explain your solution.
\item Let \(L=\min\{X,Y\}\) and \(M=\max\{X,Y\}\). Use the memoryless property to explain that \(\E M = \E L + 1/\lambda\).
\item Let \(L_{n}=\min\{X_{i} : i = 1,\ldots, n\}\) where \(X_i\sim \Exp(\lambda)\), and likewise  \(M_{n}=\max\{X_i\}\). Use the memoryless property to explain that \(\E{M_{n}} = \E{L_{n-1}} + \E{M_{n-1}}\).
\item What is \(\E{M_n}\) for \(n=5\) and \(\lambda = 4\)?
\item Explain the idea behind code below. In particular, why do we make a matrix of exponentially distributed random variables? Why is the \texttt{sort} along \texttt{axis=1}? Why is the mean along \texttt{axis=0}? Look up the meaning of \texttt{cumsum} in the \texttt{numpy} docs. Why is there a \texttt{cumsum} in the computation of \texttt{times}?
\item Run the code, and include your output
\end{enumerate}


\begin{minted}[]{python}
import numpy as np

np.random.seed(10)

labda = 4
num = 5
samples = 400

X = np.random.exponential(1 / labda, size=(samples, num))
print(X)
X.sort(axis=1)
print(X.mean(axis=0))
print(X)

times = np.array([1 / ((num - j) * labda) for j in range(num)])
times = times.cumsum()
print(times)
\end{minted}




\subsubsection{7.48}
\label{sec:org56d10c5}
\begin{enumerate}
\item Solve  the problem and explain your solution.
\item Below is the python code to estimate the mean and variance by means of simulation.   Explain how the algorithm works, in particular, how does \texttt{find\_maxima} work?.
\item Replace the seed for the random number generator with your student number (without the "s" of course). Run this code, and include the numerical results in your report. If you prefer to use \texttt{R}, that is ok too, but then port the ideas of the code below to \texttt{R}.
\end{enumerate}

\begin{minted}[]{python}
import numpy as np

np.random.seed(3)

num = 10

X = np.random.uniform(size=num)
print(X)


def find_maxima(X):
    Xstar = np.zeros_like(X)
    M = -np.infty
    for i, x in enumerate(X):
        if x > M:
            Xstar[i] = 1
            M = x
    return Xstar


Xstar = find_maxima(X)
print(Xstar)

samples = 100
Y = np.zeros(samples)
for i in range(samples):
    Xstar = find_maxima(np.random.uniform(size=num))
    Y[i] = Xstar.sum()

print(Y.mean(), Y.var())
\end{minted}





\subsection{Why is the Exponential Distribution so important?}
\label{sec:org50b29b7}

The exponential distribution plays a very important role in probability theory, but why? This assignment is meant to answer this question.  

\subsubsection{Train arrivals}
\label{sec:org25e266e}

Suppose a train departs between 10:00 and 10:15 minutes, and that 250 people will take this train.
As a very simple model, let's suppose that each person arrives uniformly distributed on the interval \([0,15]\).
What is the distribution of the inter-arrival times of these people?
In the next couple of exercises we will use simulation to show that the exponential distribution is a very reasonable model.

The basic idea behind the simulation is as follows. First we use a random number generator to generate an array \(A\) of arrival times. Second, we compute the inter-arrival time
\begin{equation}
\label{eq:1}
X_{i} = A_{i} - A_{i-1},\quad i = 1,2, \ldots,
\end{equation}
between the arrivals.
Third, we compute the empirical distribution \(F_{e}\) of \(X\).
Fourth, we plot  \(F_{e}(x)\) and  the theoretical distribution \(F(x) = 1-e^{-\lambda x}\) for a proper \(\lambda\). 
Once all steps are done, hopefully (the graphs of) \(F_{e}(x)\) and \(F(x)\) are (very) similar, so that we can conclude that the inter-arrival times are approximately exponentially distributed. 

For the \(\lambda\), observe that all arrivals occurred between \(m= \min A\) and \(M=\max A\). Thus, as a simple estimate take \(\lambda = n/(M-m)\). This is easy, because when you change the size of \(A\), or the distribution, then this estimate of \(\lambda\) scales in the right way.


One of the nice, and bad, things of \texttt{R} is that many algorithms are included.
This is handy when you know what you do, but it leaves you clueless  if you have to do something new.
More generally, using standard functions does not help you develop algorithmic skills.
However, this is very important if you plan to use large amounts of data in your later career, as actuary, consultant, banker, financial quant, whatever.
For this reason we discuss here how to make an empirical distribution function, even though you can just invoke the \texttt{ecdf} function (empirical cumulative distribution function) in \texttt{R} to compute it for you.

As a concrete, but simple example, suppose we are given the following set of ages of people \(X = (20, 25, 18, 18, 19)\). The empirical distribution function is defined as
\begin{equation*}
F_e(x) = n^{-1}\sum_{i=1}^n \1{X_i\leq x}.
\end{equation*}
To compute this efficiently, we first sort the ages: \((18, 18, 19, 20, 25)\). Next, we give a count number to each individual: \((1,2,3,4,5)\), and divide this count number by \(n=5\), since there are \(5\) persons. Finally, we plot the ages along the \(x\) axis, and \((1/5, 2/5, 3/5, 4/5, 5/5)\) along the \(y\) axis. When we plot this, we see that \(F_{e}(18) = 2/5\). To get things really correct, we should remove the double counts, such as the \(18\), but we skip this here. 


You can choose between  python  or R to make the simulations and the plots.
We include sample code for each to help you get started; it's up to you what you like to use.
As an advice: learn both.
\texttt{R} is handy for data analysis, but it is not used much besides academia; in business, machine learning, programming, python is much more common. 


First we need to load some libraries. Check the web on what they do.


\begin{minted}[]{python}
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
\end{minted}

Now we set a theme for \texttt{seaborn} to make nice graphs, and we set a seed for the random number generator of \texttt{numpy} so that we get the same random numbers every time we do a run.
This helps to find bugs.
(If you get different numbers each and every time, checking whether the results are correct becomes very tedious very rapidly.)
We also set the labels on the axis.

\begin{minted}[]{python}
np.random.seed(3)
sns.set_theme()

plt.xlabel('x', fontsize=16)
plt.ylabel('y', fontsize=16)
\end{minted}


Here is the algorithm to compute the \texttt{ecdf}.
\begin{minted}[]{python}
def ecdf(data):
    x = np.sort(data)
    n = x.size
    y = np.arange(1, n + 1) / n
    return (x, y)
\end{minted}

Now we compute the arrival times and sort them

\begin{minted}[]{python}
num = 250
A = np.sort(np.random.uniform(0, 15, size=num))
labda = A.size / (A.max() - A.min()) 
\end{minted}

Finally, compute the inter-arrival times and plot the \texttt{ecdf}.
\begin{minted}[]{python}
X = A[1:] - A[:-1]
x, y = ecdf(X)
plt.scatter(x=x, y=y)
plt.plot(x, 1 - np.exp(-labda * x))
# plt.show()

\end{minted}

\section{Chapter 8}
\label{sec:chapter-8}

\begin{exercise}
Let $X, Y$ iid $\sim \Unif{[0,1]}$. 
\begin{enumerate}
\item What is the joint CDF of $X+Y, XY$?
\item What is the joint PDF of $X+^Y XY$?
\item Compute $\P{X+Y\leq 1, XY\leq 2/9}$.
\end{enumerate}
\end{exercise}


\subsubsection*{R code}
\label{sec:orgbbfd4db}



\section{Lots of  ideas, very messy currently}
\label{sec:lots-ideas-very}


\subsection{Empirical distribution functions}
\label{sec:org27b4ea4}
\begin{exercise}
Make a graph of the empirical and theoretical distrribution for $n=250$, i.e. the size of $A$ is 250, of $X$ and the theoretical distribution. Explain what we can see in this graph. 
\end{exercise}

\begin{exercise}
Make a graph of $F_e$ and $F$  for $n=10$. Explain. 
\end{exercise}

\begin{exercise}
Make a graph of  $|F_e - F|$  for $n=250$. What do you see?
\end{exercise}

\begin{exercise}
Make a graph of  $\log(1-F_e)/\lambda$  for $n=250$. What do you see? Why did we take transform of $F_e$?
\end{exercise}


\begin{exercise}
Take the arrival times as normally distributed with mean $\mu=7.5$ and $\sigma=3$, and make the graphs. Explain. 
\end{exercise}

Normally distributed, early and late arrivals, i.e., \(\mu\) = 7.5 and \(\sigma\) = 5, and then merge the ones that are in time with the ones that are late and early. 



\subsubsection{Compound Poisson distribution, hitting times, and overshoot distribution}
\label{sec:org0740c9c}


\subsection{Exercise rock, scissors, paper with multiple players.}
\label{sec:org351adb7}



\section{Bayesian statistics}
\label{sec:org1f4616c}

\subsection{Testing for rare deceases}
\label{sec:orgb704f64}

\subsubsection{Redoing the  computation of the  Example 2.3.9}
\label{sec:orge3a48cf}

I write \texttt{p\_D\_g\_T\$} for \(\P{D\given T}\). Here is how this can be implemented in python.

\begin{minted}[]{python}
sensitivity = 0.95
specificity = 0.95
p_D = 0.01

p_T = sensitivity * p_D + (1-specificity)*(1-p_D)
p_D_g_T  = sensitivity * p_D/p_T
p_D_g_T
\end{minted}

\begin{enumerate}
\item Make a plot of \(\P{D\given T}\) in which you vary the sensitivity from 0.9 to 0.99. Explain what you see.
\item Make a plot of \(\P{D\given T}\) in which you vary the specificity from 0.9 to 0.99.
\item Make a plot of \(\P{D\given T}\) in which you vary \(\P{D}\) from 0.01 to 0.5. Explain what you see.
\item 
\end{enumerate}



\subsubsection{{\bfseries\sffamily TODO} Making the plot of Exercise 7.86}
\label{sec:orgf534b47}

\subsubsection{{\bfseries\sffamily TODO} Bayesian priors}
\label{sec:orgac48e35}

In line with Exercise 8.33, we are now going to analyze the effect on \(\P{D\given T}\) when the sensitivity is not known exactly.
So, why is this interesting?
In Example 2.3.9 the sensitivity is given, but in fact, in `real' experiments, this is not always known as accurately as assumed in this example.
For example, in this paper: \href{https://www.thelancet.com/journals/lanres/article/PIIS2213-2600(20)30453-7/fulltext}{False-positive COVID-19 results: hidden problems and costs} it is claimed that `The current rate of operational false-positive swab tests in the UK is unknown; preliminary estimates show it could be somewhere between 0·8$\backslash$% and 4·0$\backslash$%.'.
Hence, even though it is claimed that PCR tests `have analytical sensitivity and specificity of greater than 95$\backslash$%', it may be 4$\backslash$% lower.
Simply put, the specificity and sensitivity are not precisely known, hence this must affect \(\P{D\given T}\).

To help you, we show how to make one graph. Then we ask you to make a few on your own, and comment on them.



\subsection{Measuring inter arrival-times}
\label{sec:orgf820334}

We have a device to measure the time between two arrivals, of jobs for instance, or customers in a shop, or particles in radio-active decay.
After a measurement, the device has to recharge so it cannot measure arrivals that occur within 10 seconds from each other.
Also, if there is no arrival within 50, it resets itself.
Hence, the device cannot easily measure inter-arrival times longer than 1 minute. Assume that the inter-arrival times are exponentially distributed with some unknown \(\lambda\). Let \(\bar x = \sum_{n=1}^N x_{n} /N\) be the sample mean of \(N\) measured inter-arrival times. 

\begin{enumerate}
\item Explain that, if \(\lambda \ll 1\) minute,  \(\hat \lambda = \bar x - 10\) is a reasonable estimator for \(\lambda\).
\item How would you obtain a reasonable estimate of \(\lambda\) when \(\lambda\) \(\gg\) 1 minute?
\end{enumerate}





\section{A/B testing}
\label{sec:org180b96a}
\subsubsection{Introduction}
\label{sec:org41a02a9}

In an A/B test the problem is to find out which of two alternatives is the better, in that it yields higher profit (webpages), cures more patients (medicine), and so on. In this assignment you have to study different policies to find out the better of two alternatives. 

A/B testing is a very interesting topic, and lies at the heart of \emph{reinforcement learning}, see wikipedia for background, in particular with respect to machine learning, automatic car driving, and so on. 


\subsubsection{{\bfseries\sffamily TODO} Use beta priors}
\label{sec:org9297a86}
\subsubsection{{\bfseries\sffamily TODO} Interesting to link this to the game of Alice and Bob in Van der Plas}
\label{sec:orgafbfbd0}
\url{http://jakevdp.github.io/blog/2014/06/06/frequentism-and-bayesianism-2-when-results-differ/}

\subsection{Estimating the number of tanks}
\label{sec:org0700c8f}


\subsection{Koffiedingen van Douwe Egberts}
\label{sec:orgbe91c90}

\subsection{Batchgewijs testen door samen te voegen}
\label{sec:org7f21ad2}



\subsection{Sport uitslagen}
\label{sec:org9a46c5b}

Som 7.48 gaat over hoeveel maxima optreden. Wat is de verdeling van de maxima? Wat is de toename? Relatie met extreme waarde verdelingen. 

\subsection{Random variable code en die van Niels}
\label{sec:org57ced54}

\section{Maximum of independent r.v.s; Example 5.6.5}
\label{sec:orgb2a351d}

\begin{enumerate}
\item Make 1d array of uniform 0,1 random rvs
\item compute mean and variance
\item Why include a seed
\item include seed
\item Make [n, p] matrix, n samples along rows
\item Sort along axis  1
\item Sort along axis 0
\item Compute mean and std along axis 0
\item Make large number of data, with e.g sample-no = 1000, and redo the above
\item Change to exponential distribution
\item Show how to use the online documentation for np.random.exponential
\item Show the effect of the scale parameter
\item Compare mean to theoretical value
\item Change to geometric distribution
\end{enumerate}


\subsubsection{code}
\label{sec:orga01964c}


\begin{minted}[]{python}
import numpy as np

np.random.seed(3)

sample_no = 300
rvs_no = 2

#a = np.random.uniform(size=[sample_no, rvs_no])
labda = 2
a = np.random.exponential(scale=labda, size=[sample_no, rvs_no])
a.sort(axis=1)
#a
a.mean(axis=0), a.std(axis=0)
\end{minted}

\begin{minted}[]{python}
labda/2, 3*labda/2
\end{minted}


\section{Arithmetic with discrete r.v.s}
\label{sec:orgb53976d}


Bekijken het maximale verschil van de verdeling van de som van 3 uniformen, en de normale verdeling. 

afrondregels, bijv \(2.11*3= 6\), omdat \(3\) maar op 1 digit bekend is. Wat is de kwaliteit van deze afrondregel?

\section{Ping pong balls in an Airbus Beluga, Example 7.1.25}
\label{sec:org08202e8}

How many ping pong balls fit into an Airbus Beluga? One way to answer this is as follows. According to this \href{https://en.wikipedia.org/wiki/Airbus\_Beluga}{wikipage} the cargo volume of this airplane is 1500 m\textsuperscript{3}. But this volume is based on the physical dimensions that is available to store containers, tanks, and so on. So, I estimate the volume as twice that amount, i.e., 3000 m\textsuperscript{3}. The volume of a ping pong ball is 4  \(\pi\) r\textsuperscript{3}/3 = \texttt{33.5} cm\textsuperscript{2} with \(r=2\) cm.  A plain division gives
\texttt{90000000.0}  balls. (I do not take into the sphere packing factor.)

But, I know that the volume of the plane and a ping pong ball is an estimate, rather than a precise number, such as I assumed just above. It seems reasonable to approximate both as a random variable. So, writing \(V\) for the volume of the plane, and \(v\) for a ping pong ball, assume that
   \begin{align*}
V &\sim N(2500, 500), & v\&sim N(33.5, 0.5),
\end{align*}
where the variances express my trust in my guess work. Then, the number of balls \(N\) is \(N = V/v\). 
Characterize the mean and variance of this answer.

How does this relate to by Example 7.1.25? There, \(\E N = \infty\), but 

More generally,  check density for sum,product, and ratio of two normal (or other distributions)  by means of simulations.

\begin{minted}[]{python}
3000*10**6/33.5
\end{minted}


\section{Bayes' Billiards}
\label{sec:orgf93559e}
Take \(n=100\) samples. 

\subsection{One coin}
\label{sec:org1e9a031}
\begin{enumerate}
\item Take success probability \(p=1/2\).
\item Make matrix with \(n\) rows, \(n\) columns. Each row is an experiment of \(n\) throws of the coin.
\item Plot the histogram of the number of heads.
\end{enumerate}

\subsection{Three coins}
\label{sec:orga657159}
\begin{enumerate}
\item Take three coins with success probabilities \(p=1/4, 1/2, 3/4\).
\item Make a simulation for each coin.
\item If we select a coin with probability \(1/3\), the total histogram is the 1/3 times the sum of the histograms of each of the coins. That is, \(\P{X=k} = \P{X=k|C = i}\P{C=i}\), where \(C\) is one of chosen coins;  here we take \(\P{C=i} = 1/3\).
\end{enumerate}

\subsection{five coins}
\label{sec:orga1a3b28}
\begin{enumerate}
\item Select with uniform probability one out of five coins with success probabilities \(p=i/5\),  \(i=1,\ldots, 5\).
\item Make a simulation for each coin.
\item Make the histogram \(\P{X=k} = \P{X=k|C = i}\P{C=i}\), where \(\P{C=i} = 1/5\).
\end{enumerate}

\section{Bootstrapping example}
\label{sec:org6006a3a}

\section{Code of others}
\label{sec:org9764e8d}

With a bit of searching you find lots of information, which is perhaps  useful;  use it at your own risk!

\begin{itemize}
\item \url{https://github.com/buruzaemon/stats-110}
\item \url{https://github.com/buruzaemon/IntroductionToProbabilityPy}
\end{itemize}




\section{The baker of Poincare}
\label{sec:org94bc890}


Henri Poincaré was a French mathematician who taught at the Sorbonne around 1900. The following anecdote about him is probably fabricated, but it makes an interesting probability problem.
Supposedly Poincaré suspected that his local bakery was selling loaves of bread that were lighter than the advertised weight of 1 kg, so every day for a year he bought a loaf of bread, brought it home and weighed it. At the end of the year, he plotted the distribution of his measurements and showed that it fit a normal distribution with mean 950 g and standard deviation 50 g. He brought this evidence to the bread police, who gave the baker a warning.
For the next year, Poincaré continued the practice of weighing his bread every day. At the end of the year, he found that the average weight was 1000 g, just as it should be, but again he complained to the bread police, and this time they fined the baker.


Why? Because the shape of the distribution was asymmetric. Unlike the normal distribution, it was skewed to the right, which is consistent with the hypothesis that the baker was still making 950 g loaves, but deliberately giving Poincaré the heavier ones.
Exercise 5.6 Write a program that simulates a baker who chooses n loaves from a distribution with mean 950 g and standard deviation 50 g, and gives the heaviest one to Poincaré. What value of n yields a distribution with mean 1000 g? What is the standard deviation?
\end{document}

\end{document}
